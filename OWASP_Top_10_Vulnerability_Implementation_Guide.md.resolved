# SafePoint Market: OWASP Top 10 (2025) ì·¨ì•½ì  êµ¬í˜„ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” **SafePoint Market í”„ë¡œì íŠ¸ë¥¼ êµìœ¡ìš© ì·¨ì•½í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´**, ê¸°ì¡´ ì½”ë“œë¥¼ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ê°€ì´ë“œì…ë‹ˆë‹¤.
ê° í•­ëª©ì€ OWASP Top 10 2025 ê¸°ì¤€ì„ ë”°ë¥´ë©°, **ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ì ˆëŒ€ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ëŠ” ì½”ë“œ**ë“¤ì…ë‹ˆë‹¤.

---

## 1. A01: Broken Access Control (ì·¨ì•½í•œ ì ‘ê·¼ ì œì–´)

**ëª©í‘œ**: ë‚¨ì˜ ì±„íŒ…ë°© í›”ì³ë³´ê¸° (IDOR - ë¶€ì ì ˆí•œ ì§ì ‘ ê°ì²´ ì°¸ì¡°)

ì •ìƒì ì¸ ì½”ë“œëŠ” ì±„íŒ…ë°©ì— ì…ì¥í•  ë•Œ `request.user`ê°€ êµ¬ë§¤ìë‚˜ íŒë§¤ìì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì´ í™•ì¸ ë¡œì§ì„ **ì œê±°**í•˜ë©´, ê³µê²©ìê°€ URLì˜ ë°© ë²ˆí˜¸(`room_id`)ë§Œ ë°”ê¿”ì„œ ë‚¨ì˜ ëŒ€í™”ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [chat/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/chat/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# chat/views.py

@login_required
def room_detail(request, room_id):
    # [ì·¨ì•½ì ] ì†Œìœ ì ê²€ì¦ ë¡œì§ ì œê±°!
    # ëˆ„êµ¬ë“ ì§€ room_idë§Œ ì•Œë©´ ì ‘ê·¼ ê°€ëŠ¥
    room = get_object_or_404(ChatRoom, id=room_id)
    
    # if request.user != room.buyer and request.user != room.seller:
    #     return redirect('home')
        
    messages = room.messages.all()
    return render(request, 'chat/room.html', {
        'room': room,
        'chat_messages': messages
    })
```

---

## 2. A02: Security Misconfiguration (ë³´ì•ˆ ì„¤ì • ì˜¤ë¥˜)

**ëª©í‘œ**: ë””ë²„ê·¸ ëª¨ë“œ ë…¸ì¶œ ë° ë¶ˆí•„ìš”í•œ ì—ëŸ¬ ì •ë³´ ê³µê°œ

ê°œë°œ í¸ì˜ë¥¼ ìœ„í•´ ì„¤ì •í•´ë‘” `DEBUG = True`ë¥¼ í”„ë¡œë•ì…˜ í™˜ê²½(ë°°í¬ í™˜ê²½)ì—ì„œë„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ê°€ì¥ ëŒ€í‘œì ì¸ ì·¨ì•½ì ì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [config/settings.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/config/settings.py)

#### âŒ ì·¨ì•½í•œ ì„¤ì • (Vulnerable)
```python
# config/settings.py

# [ì·¨ì•½ì ] ë°°í¬ í™˜ê²½ì—ì„œë„ Trueë¡œ ì„¤ì • ì‹œ, ì—ëŸ¬ ë°œìƒ ì‹œ ì†ŒìŠ¤ì½”ë“œ/í™˜ê²½ë³€ìˆ˜/ì„¤ì •ê°’ ë“±ì´ ëª¨ë‘ ë…¸ì¶œë¨
DEBUG = True 

# [ì·¨ì•½ì ] ëª¨ë“  í˜¸ìŠ¤íŠ¸ í—ˆìš© (DNS Rebinding ê³µê²© ë“±ì— ì·¨ì•½í•´ì§ˆ ìˆ˜ ìˆìŒ)
ALLOWED_HOSTS = ['*']
```

---

## 3. A03: Software Supply Chain Failures (ì†Œí”„íŠ¸ì›¨ì–´ ê³µê¸‰ë§ ì‹¤íŒ¨)

**ëª©í‘œ**: ê²€ì¦ë˜ì§€ ì•Šì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹œë®¬ë ˆì´ì…˜

ì´ ë¶€ë¶„ì€ ì½”ë“œë³´ë‹¤ëŠ” ì„¤ì • íŒŒì¼ ê´€ë¦¬ê°€ í•µì‹¬ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë²„ì „ ëª…ì‹œ ì—†ì´ `latest`ë¥¼ ì“°ê±°ë‚˜, ì•…ì„± íŒ¨í‚¤ì§€ë¥¼ ì‹¤ìˆ˜ë¡œ í¬í•¨ì‹œí‚¤ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [requirements.txt](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/requirements.txt)

#### âŒ ì·¨ì•½í•œ êµ¬ì„± (Vulnerable)
```text
Django==4.2.16
# [ì·¨ì•½ì ] ë²„ì „ì„ ê³ ì •í•˜ì§€ ì•Šì•„, í•´ì»¤ê°€ ì•…ì„± ì½”ë“œë¥¼ ì‹¬ì€ ìµœì‹  ë²„ì „ì´ ë‚˜ì˜¤ë©´ ë°”ë¡œ ê°ì—¼ë¨
some-vulnerable-lib>=0.0.1 

# [ì·¨ì•½ì ] íƒ€ì´ì–´ìŠ¤ì¿¼íŒ…(Typosquatting) ì˜ˆì‹œ: 'requests' ëŒ€ì‹  'request' ì„¤ì¹˜ ìœ ë„
request
```

---

## 4. A04: Cryptographic Failures (ì•”í˜¸í•™ ì‹¤íŒ¨)

**ëª©í‘œ**: 2ì°¨ ë¹„ë°€ë²ˆí˜¸ í‰ë¬¸ ì €ì¥

ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸(ë˜ëŠ” 2ì°¨ ë¹„ë°€ë²ˆí˜¸)ëŠ” ë°˜ë“œì‹œ **í•´ì‹œ(Hash)**í•˜ì—¬ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ í‰ë¬¸ìœ¼ë¡œ ì €ì¥í•˜ë©´ DB ìœ ì¶œ ì‹œ ëª¨ë“  ì •ë³´ê°€ í„¸ë¦¬ê²Œ ë©ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [accounts/models.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/accounts/models.py) & [views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/chat/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# accounts/views.py

@login_required
def secondary_password_set_view(request):
    # ... ì½”ë“œ ìƒëµ ...
    if request.method == 'POST':
        form = SecondaryPasswordSetForm(request.POST)
        if form.is_valid():
            new_pw = form.cleaned_data['new_secondary_password']
            
            # [ì·¨ì•½ì ] í•´ì‹±(make_password ë“±) ì—†ì´ ê·¸ëŒ€ë¡œ ì €ì¥
            # user.set_secondary_password(new_pw) -> ì›ë˜ëŠ” ì´ë ‡ê²Œ í•´ì•¼ í•¨
            user.secondary_password = new_pw 
            user.save()
            return redirect('profile', nickname=user.nickname)
```

---

## 5. A05: Injection (ì¸ì ì…˜)

**ëª©í‘œ**: SQL Injection ê³µê²©ì´ ê°€ëŠ¥í•œ ê²Œì‹œíŒ ê²€ìƒ‰ ê¸°ëŠ¥

Django ORMì„ ì‚¬ìš©í•˜ë©´ ì•ˆì „í•˜ì§€ë§Œ, ê°œë°œìê°€ ì‹¤ìˆ˜ë¡œ(ë˜ëŠ” ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ìœ„í•´) `raw` SQLì„ ë¬¸ìì—´ í¬ë§·íŒ…ìœ¼ë¡œ ì‘ì„±í•˜ë©´ SQL Injectionì´ ë°œìƒí•©ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [board/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/board/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# board/views.py

from django.db import connection

def post_list_view(request):
    search_query = request.GET.get('q', '')
    
    # [ì·¨ì•½ì ] ì‚¬ìš©ì ì…ë ¥ì„ SQL ì¿¼ë¦¬ì— ì§ì ‘ í¬ë§·íŒ… (ì ˆëŒ€ ê¸ˆì§€!)
    # ì…ë ¥ê°’ ì˜ˆì‹œ: ' OR '1'='1 (ëª¨ë“  ê¸€ ë…¸ì¶œ)
    sql = f"SELECT * FROM board_post WHERE title LIKE '%{search_query}%'"
    
    with connection.cursor() as cursor:
        cursor.execute(sql)
        # raw query ê²°ê³¼ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ì·¨ì•½ì  ì›ë¦¬ë§Œ ì„¤ëª…
        posts = cursor.fetchall() 

    return render(request, 'board/post_list.html', {'posts': posts})
```

---

## 6. A06: Insecure Design (ì•ˆì „í•˜ì§€ ì•Šì€ ì„¤ê³„)

**ëª©í‘œ**: ìƒí’ˆ ê°€ê²© ì¡°ì‘ (ë§ˆì´ë„ˆìŠ¤ ê°€ê²© ë˜ëŠ” ë¬´ë£Œ êµ¬ë§¤)

ì„¤ê³„ ë‹¨ê³„ì—ì„œ "ê°€ê²©ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•œë‹¤"ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì œì•½ì¡°ê±´ì„ ê°•ì œí•˜ì§€ ì•Šì•„ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [market/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/market/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# market/views.py

@login_required
def product_create_view(request):
    if request.method == 'POST':
        price = request.POST.get('price', '')
        
        # [ì·¨ì•½ì ] ê°€ê²©ì´ ìŒìˆ˜ì¸ì§€, ë„ˆë¬´ í° ê°’ì¸ì§€, ìˆ«ìê°€ ë§ëŠ”ì§€ ê²€ì¦ ì—†ìŒ
        # ê³µê²©ìê°€ priceë¥¼ "-50000"ìœ¼ë¡œ ë³´ë‚´ë©´, êµ¬ë§¤ ì‹œ ì˜¤íˆë ¤ ëˆì„ ë°›ëŠ” ë¡œì§ì´ ë  ìˆ˜ë„ ìˆìŒ
        
        product = Product.objects.create(
            seller=request.user,
            title=request.POST.get('title'),
            price=price, # ê²€ì¦ë˜ì§€ ì•Šì€ ê°’ ì €ì¥
            category=category,
            # ...
        )
```

---

## 7. A07: Authentication Failures (ì¸ì¦ ì‹¤íŒ¨)

**ëª©í‘œ**: ë¬´ì°¨ë³„ ëŒ€ì…(Brute Force) ê³µê²© í—ˆìš© ë° íŒíŠ¸ ì œê³µ

ë¹„ë°€ë²ˆí˜¸ ì‹œë„ íšŸìˆ˜ ì œí•œì´ ì—†ê³ , ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ì•„ì´ë””ê°€ í‹€ë¦° ê±´ì§€ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦° ê±´ì§€ ì¹œì ˆí•˜ê²Œ ì•Œë ¤ì£¼ë©´ ê³µê²©ìê°€ ê³„ì •ì„ íƒˆì·¨í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [accounts/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/accounts/views.py) (Custom Login View)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# accounts/views.py

def login_view(request):
    # ...
    try:
        user = User.objects.get(username=username)
        if user.check_password(password):
            login(request, user)
        else:
            # [ì·¨ì•½ì ] ë¹„ë°€ë²ˆí˜¸ë§Œ í‹€ë ¸ë‹¤ê³  ì•Œë ¤ì¤Œ -> ì•„ì´ë””ëŠ” ë§ë‹¤ëŠ” ì •ë³´ ë…¸ì¶œ
            return render(request, 'login.html', {'error': 'ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.'})
    except User.DoesNotExist:
        # [ì·¨ì•½ì ] ì•„ì´ë””ê°€ ì—†ë‹¤ê³  ì•Œë ¤ì¤Œ -> ê³„ì • ì¡´ì¬ ì—¬ë¶€ í™•ì¸ ê°€ëŠ¥ (User Enumeration)
        return render(request, 'login.html', {'error': 'ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.'})
```

---

## 8. A08: Software or Data Integrity Failures (ë¬´ê²°ì„± ì‹¤íŒ¨)

**ëª©í‘œ**: ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ì—…ë¡œë“œ í—ˆìš©

ê²Œì‹œíŒ ì²¨ë¶€íŒŒì¼ ê¸°ëŠ¥ì—ì„œ íŒŒì¼ì˜ í™•ì¥ìë‚˜ ë‚´ìš©ì„ ê²€ì¦í•˜ì§€ ì•Šê³  ì„œë²„ì— ì €ì¥/ì‹¤í–‰í•˜ê²Œ ë‘ëŠ” ì·¨ì•½ì ì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [board/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/board/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# board/views.py

def post_create_view(request):
    # ...
    if request.method == 'POST':
        file = request.FILES.get('attachment')
        
        # [ì·¨ì•½ì ] íŒŒì¼ í™•ì¥ì(php, jsp, html, exe) ê²€ì‚¬ ì—†ìŒ
        # [ì·¨ì•½ì ] íŒŒì¼ ë‚´ìš©(MIME type) ê²€ì‚¬ ì—†ìŒ
        # ê³µê²©ìê°€ 'hack.php'ë¥¼ ì˜¬ë¦¬ê³  í•´ë‹¹ URLì— ì ‘ì†í•˜ë©´ ì„œë²„ í•´í‚¹ ê°€ëŠ¥
        
        PostAttachment.objects.create(post=post, file=file)
```

---

## 9. A09: Security Logging & Alerting Failures (ë¡œê¹… ì‹¤íŒ¨)

**ëª©í‘œ**: ë¯¼ê° ì •ë³´ë¥¼ ë¡œê·¸ì— ë‚¨ê¸°ê¸°

ë¡œê·¸ëŠ” ë””ë²„ê¹…ì— ì¤‘ìš”í•˜ì§€ë§Œ, ë¹„ë°€ë²ˆí˜¸ë‚˜ ê°œì¸ì •ë³´ë¥¼ í‰ë¬¸ìœ¼ë¡œ ë‚¨ê¸°ë©´ ë¡œê·¸ ìì²´ê°€ ìœ ì¶œë˜ì—ˆì„ ë•Œ ì¹˜ëª…ì ì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [accounts/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/accounts/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# accounts/views.py
import logging

logger = logging.getLogger(__name__)

def login_view(request):
    username = request.POST.get('username')
    password = request.POST.get('password')
    
    # [ì·¨ì•½ì ] ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¡œê·¸ì— ê·¸ëŒ€ë¡œ ì¶œë ¥
    logger.info(f"Login attempt - User: {username}, Password: {password}")
    
    # ... ë¡œê·¸ì¸ ë¡œì§ ...
```

---

## 10. A10: Mishandling of Exceptional Conditions (ì˜ˆì™¸ ì²˜ë¦¬ ë¯¸í¡)

**ëª©í‘œ**: ì—ëŸ¬ ë°œìƒ ì‹œ ì‹œìŠ¤í…œ ë‚´ë¶€ ì •ë³´ë¥¼ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œ

ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì œëŒ€ë¡œ í•˜ì§€ ì•Šì•„ ì‹œìŠ¤í…œ ê²½ë¡œ, ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „, ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ë“±ì´ í¬í•¨ëœ ì—ëŸ¬ ë©”ì‹œì§€(Stack Trace)ë¥¼ ì‚¬ìš©ì í™”ë©´ì— ë³´ì—¬ì£¼ëŠ” ì·¨ì•½ì ì…ë‹ˆë‹¤.

### ğŸ“‚ ëŒ€ìƒ íŒŒì¼: [board/views.py](file:///c:/Users/Backer/Desktop/SeSAC_Backer/PJT2-WebApplication/website_test/board/views.py)

#### âŒ ì·¨ì•½í•œ ì½”ë“œ (Vulnerable)
```python
# board/views.py

def post_detail_view(request, pk):
    try:
        post = Post.objects.get(pk=pk)
    except Exception as e:
        # [ì·¨ì•½ì ] ì˜ˆì™¸ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ í™”ë©´ì— ë Œë”ë§
        # DB ì—ëŸ¬ë‚˜ ì½”ë“œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ë‚´ë¶€ ë¡œì§ì´ ì ë‚˜ë¼í•˜ê²Œ ë“œëŸ¬ë‚¨
        return HttpResponse(f"Error Occurred: {str(e)}", status=500)
        
    return render(request, 'board/post_detail.html', {'post': post})
```
